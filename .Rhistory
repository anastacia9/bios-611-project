scale_x_discrete(guide = guide_axis(angle = 90)) +
facet_grid(YEAR ~ ., scales = "free_y") +
coord_cartesian(ylim = c(0, 4500)) +
scale_color_identity(guide = "legend", labels = c("brain", "nerve")) +
labs(color = "color")
ggsave("quarter_centuray_rainfall.png", bars)
### Assign colors to dataframe
entrys <- latlong$SUBDIVISION %>% length()
shades <- rep('', entrys)
for (i in 1:entrys){
distances <- latlong$median[i]-breaks > 0
shades[i] <- colors[distances %>% which() %>% max()]}
latlong$color <- shades
### Basic barplots of annual rainfall for 1901, 1925, 1950, 1975, 2000, and 2017
meds.factor <- factor(rains.per25years$SUBDIVISION, levels=meds.order)
years <- c(1901,1925,1950,1975,2000,2017)
rains.per25years <- rains %>%
filter(YEAR %in% years) %>%
merge(latlong[c('SUBDIVISION', 'color')], by=c("SUBDIVISION"))
rains.per25years <- rains.per25years[order(meds.factor),]
rains.per25years$SUBDIVISION <- factor(rains.per25years$SUBDIVISION, levels = meds.order)
bars <- ggplot(data=rains.per25years, aes(x=SUBDIVISION, y=ANNUAL, fill=color)) +
geom_bar(stat="identity") +
scale_x_discrete(guide = guide_axis(angle = 90)) +
facet_grid(YEAR ~ ., scales = "free_y") +
coord_cartesian(ylim = c(0, 4500)) +
scale_color_identity(guide = "legend", labels = c("brain", "nerve")) +
labs(color = "color")
#ggsave("quarter_centuray_rainfall.png", bars)
### Assign colors to dataframe
entrys <- latlong$SUBDIVISION %>% length()
shades <- rep('', entrys)
for (i in 1:entrys){
distances <- latlong$median[i]-breaks > 0
shades[i] <- colors[distances %>% which() %>% max()]}
latlong$color <- shades
### Basic barplots of annual rainfall for 1901, 1925, 1950, 1975, 2000, and 2017
meds.factor <- factor(rains.per25years$SUBDIVISION, levels=meds.order)
years <- c(1901,1925,1950,1975,2000,2017)
rains.per25years <- rains %>%
filter(YEAR %in% years) %>%
merge(latlong[c('SUBDIVISION', 'color')], by=c("SUBDIVISION"))
rains.per25years <- rains.per25years[order(meds.factor),]
rains.per25years$SUBDIVISION <- factor(rains.per25years$SUBDIVISION, levels = meds.order)
bars <- ggplot(data=rains.per25years, aes(x=SUBDIVISION, y=ANNUAL, fill=color)) +
geom_bar(stat="identity") +
scale_x_discrete(guide = guide_axis(angle = 90)) +
facet_grid(YEAR ~ ., scales = "free_y") +
coord_cartesian(ylim = c(0, 4500)) +
scale_color_identity(guide = "legend", labels = c("brain", "nerve")) +
labs(color = "color")
#ggsave("quarter_centuray_rainfall.png", bars)
bars
### Assign colors to dataframe
entrys <- latlong$SUBDIVISION %>% length()
shades <- rep('', entrys)
for (i in 1:entrys){
distances <- latlong$median[i]-breaks > 0
shades[i] <- colors[distances %>% which() %>% max()]}
latlong$color <- shades
### Basic barplots of annual rainfall for 1901, 1925, 1950, 1975, 2000, and 2017
meds.factor <- factor(rains.per25years$SUBDIVISION, levels=meds.order)
years <- c(1901,1925,1950,1975,2000,2017)
rains.per25years <- rains %>%
filter(YEAR %in% years) %>%
merge(latlong[c('SUBDIVISION', 'color')], by=c("SUBDIVISION"))
rains.per25years <- rains.per25years[order(meds.factor),]
rains.per25years$SUBDIVISION <- factor(rains.per25years$SUBDIVISION, levels = meds.order)
ggplot(data=rains.per25years, aes(x=SUBDIVISION, y=ANNUAL, fill=color)) +
geom_bar(stat="identity") +
scale_x_discrete(guide = guide_axis(angle = 90)) +
facet_grid(YEAR ~ ., scales = "free_y") +
coord_cartesian(ylim = c(0, 4500)) +
scale_color_identity(guide = "legend", labels = c("brain", "nerve")) +
labs(color = "color")
#ggsave("quarter_centuray_rainfall.png", bars)
ggplot(data=rains.per25years, aes(x=SUBDIVISION, y=ANNUAL, fill=color)) +
geom_bar(stat="identity") +
scale_x_discrete(guide = guide_axis(angle = 90)) +
facet_grid(YEAR ~ ., scales = "free_y") +
coord_cartesian(ylim = c(0, 4500)) +
scale_color_identity(guide = "legend", labels = c("brain", "nerve")) +
labs(color = "color")
### Assign colors to dataframe
entrys <- latlong$SUBDIVISION %>% length()
shades <- rep('', entrys)
for (i in 1:entrys){
distances <- latlong$median[i]-breaks > 0
shades[i] <- colors[distances %>% which() %>% max()]}
latlong$color <- shades
### Basic barplots of annual rainfall for 1901, 1925, 1950, 1975, 2000, and 2017
meds.factor <- factor(rains.per25years$SUBDIVISION, levels=meds.order)
years <- c(1901,1925,1950,1975,2000,2017)
rains.per25years <- rains %>%
filter(YEAR %in% years) %>%
merge(latlong[c('SUBDIVISION', 'color')], by=c("SUBDIVISION"))
rains.per25years <- rains.per25years[order(meds.factor),]
rains.per25years$SUBDIVISION <- factor(rains.per25years$SUBDIVISION, levels = meds.order)
ggplot(data=rains.per25years, aes(x=SUBDIVISION, y=ANNUAL, fill=color)) +
geom_bar(stat="identity") +
scale_x_discrete(guide = guide_axis(angle = 90)) +
facet_grid(YEAR ~ ., scales = "free_y") +
coord_cartesian(ylim = c(0, 4500)) +
scale_color_identity(guide = "legend", labels = c("brain", "nerve")) +
labs(color = "color")
#ggsave("quarter_centuray_rainfall.png", bars)
latlong
rains
### Assign colors to dataframe
entrys <- latlong$SUBDIVISION %>% length()
shades <- rep('', entrys)
for (i in 1:entrys){
distances <- latlong$median[i]-breaks > 0
shades[i] <- colors[distances %>% which() %>% max()]}
latlong$colorful <- shades
### Basic barplots of annual rainfall for 1901, 1925, 1950, 1975, 2000, and 2017
meds.factor <- factor(rains.per25years$SUBDIVISION, levels=meds.order)
years <- c(1901,1925,1950,1975,2000,2017)
rains.per25years <- rains %>%
filter(YEAR %in% years) %>%
merge(latlong[c('SUBDIVISION', 'colorful')], by=c("SUBDIVISION"))
rains.per25years <- rains.per25years[order(meds.factor),]
rains.per25years$SUBDIVISION <- factor(rains.per25years$SUBDIVISION, levels = meds.order)
ggplot(data=rains.per25years, aes(x=SUBDIVISION, y=ANNUAL, fill=colorful)) +
geom_bar(stat="identity") +
scale_x_discrete(guide = guide_axis(angle = 90)) +
facet_grid(YEAR ~ ., scales = "free_y") +
coord_cartesian(ylim = c(0, 4500)) +
scale_color_identity(guide = "legend", labels = c("brain", "nerve")) +
labs(color = "color")
#ggsave("quarter_centuray_rainfall.png", bars)
### Assign colors to dataframe
entrys <- latlong$SUBDIVISION %>% length()
shades <- rep('', entrys)
for (i in 1:entrys){
distances <- latlong$median[i]-breaks > 0
shades[i] <- colors[distances %>% which() %>% max()]}
latlong$colorful <- shades
### Basic barplots of annual rainfall for 1901, 1925, 1950, 1975, 2000, and 2017
meds.factor <- factor(rains.per25years$SUBDIVISION, levels=meds.order)
years <- c(1901,1925,1950,1975,2000,2017)
rains.per25years <- rains %>%
filter(YEAR %in% years) %>%
merge(latlong[c('SUBDIVISION', 'colorful')], by=c("SUBDIVISION"))
rains.per25years <- rains.per25years[order(meds.factor),]
rains.per25years$SUBDIVISION <- factor(rains.per25years$SUBDIVISION, levels = meds.order)
ggplot(data=rains.per25years, aes(x=SUBDIVISION, y=ANNUAL, fill=colorful)) +
geom_bar(stat="identity") +
scale_x_discrete(guide = guide_axis(angle = 90)) +
facet_grid(YEAR ~ ., scales = "free_y") +
coord_cartesian(ylim = c(0, 4500)) +
scale_color_identity(guide = "legend", labels = c("brain", "nerve")) +
labs(color = "colorful")
#ggsave("quarter_centuray_rainfall.png", bars)
shades
### Assign colors to dataframe
entrys <- latlong$SUBDIVISION %>% length()
shades <- rep('', entrys)
for (i in 1:entrys){
distances <- latlong$median[i]-breaks > 0
shades[i] <- colors[distances %>% which() %>% max()]}
latlong$colorful <- shades
### Basic barplots of annual rainfall for 1901, 1925, 1950, 1975, 2000, and 2017
meds.factor <- factor(rains.per25years$SUBDIVISION, levels=meds.order)
years <- c(1901,1925,1950,1975,2000,2017)
rains.per25years <- rains %>%
filter(YEAR %in% years) %>%
merge(latlong[c('SUBDIVISION', 'colorful')], by=c("SUBDIVISION"))
rains.per25years <- rains.per25years[order(meds.factor),]
rains.per25years$SUBDIVISION <- factor(rains.per25years$SUBDIVISION, levels = meds.order)
ggplot(data=rains.per25years, aes(x=SUBDIVISION, y=ANNUAL, fill=shades)) +
geom_bar(stat="identity") +
scale_x_discrete(guide = guide_axis(angle = 90)) +
facet_grid(YEAR ~ ., scales = "free_y") +
coord_cartesian(ylim = c(0, 4500))
### Assign colors to dataframe
entrys <- latlong$SUBDIVISION %>% length()
shades <- rep('', entrys)
for (i in 1:entrys){
distances <- latlong$median[i]-breaks > 0
shades[i] <- colors[distances %>% which() %>% max()]}
latlong$colorful <- shades
### Basic barplots of annual rainfall for 1901, 1925, 1950, 1975, 2000, and 2017
meds.factor <- factor(rains.per25years$SUBDIVISION, levels=meds.order)
years <- c(1901,1925,1950,1975,2000,2017)
rains.per25years <- rains %>%
filter(YEAR %in% years) %>%
merge(latlong[c('SUBDIVISION', 'colorful')], by=c("SUBDIVISION"))
rains.per25years <- rains.per25years[order(meds.factor),]
rains.per25years$SUBDIVISION <- factor(rains.per25years$SUBDIVISION, levels = meds.order)
ggplot(data=rains.per25years, aes(x=SUBDIVISION, y=ANNUAL, fill=colorful)) +
geom_bar(stat="identity", show.legend = FALSE) +
scale_x_discrete(guide = guide_axis(angle = 90)) +
facet_grid(YEAR ~ ., scales = "free_y") +
coord_cartesian(ylim = c(0, 4500))
#ggsave("quarter_centuray_rainfall.png", bars)
### Assign colors to dataframe
entrys <- latlong$SUBDIVISION %>% length()
shades <- rep('', entrys)
for (i in 1:entrys){
distances <- latlong$median[i]-breaks > 0
shades[i] <- colors[distances %>% which() %>% max()]}
latlong$colorful <- shades
### Basic barplots of annual rainfall for 1901, 1925, 1950, 1975, 2000, and 2017
meds.factor <- factor(rains.per25years$SUBDIVISION, levels=meds.order)
years <- c(1901,1925,1950,1975,2000,2017)
rains.per25years <- rains %>%
filter(YEAR %in% years) %>%
merge(latlong[c('SUBDIVISION', 'colorful')], by=c("SUBDIVISION"))
rains.per25years <- rains.per25years[order(meds.factor),]
rains.per25years$SUBDIVISION <- factor(rains.per25years$SUBDIVISION, levels = meds.order)
ggplot(data=rains.per25years, aes(x=SUBDIVISION, y=ANNUAL, fill=colorful)) +
geom_bar(stat="identity", show.legend = FALSE) +
scale_x_discrete(guide = guide_axis(angle = 90)) +
facet_grid(YEAR ~ ., scales = "free_y") +
coord_cartesian(ylim = c(0, 4500)) +
xlab("State") +
ylab("Median Rainfall")
ggsave("quarter_centuray_rainfall.png", bars)
### Assign colors to dataframe
entrys <- latlong$SUBDIVISION %>% length()
shades <- rep('', entrys)
for (i in 1:entrys){
distances <- latlong$median[i]-breaks > 0
shades[i] <- colors[distances %>% which() %>% max()]}
latlong$colorful <- shades
### Basic barplots of annual rainfall for 1901, 1925, 1950, 1975, 2000, and 2017
meds.factor <- factor(rains.per25years$SUBDIVISION, levels=meds.order)
years <- c(1901,1925,1950,1975,2000,2017)
rains.per25years <- rains %>%
filter(YEAR %in% years) %>%
merge(latlong[c('SUBDIVISION', 'colorful')], by=c("SUBDIVISION"))
rains.per25years <- rains.per25years[order(meds.factor),]
rains.per25years$SUBDIVISION <- factor(rains.per25years$SUBDIVISION, levels = meds.order)
ggplot(data=rains.per25years, aes(x=SUBDIVISION, y=ANNUAL, fill=colorful)) +
geom_bar(stat="identity", show.legend = FALSE) +
scale_x_discrete(guide = guide_axis(angle = 90)) +
facet_grid(YEAR ~ ., scales = "free_y") +
coord_cartesian(ylim = c(0, 4500)) +
xlab("State") +
ylab("Median Rainfall")
ggsave("quarter_centuray_rainfall.png", bars)
### Assign colors to dataframe
entrys <- latlong$SUBDIVISION %>% length()
shades <- rep('', entrys)
for (i in 1:entrys){
distances <- latlong$median[i]-breaks > 0
shades[i] <- colors[distances %>% which() %>% max()]}
latlong$colorful <- shades
### Basic barplots of annual rainfall for 1901, 1925, 1950, 1975, 2000, and 2017
meds.factor <- factor(rains.per25years$SUBDIVISION, levels=meds.order)
years <- c(1901,1925,1950,1975,2000,2017)
rains.per25years <- rains %>%
filter(YEAR %in% years) %>%
merge(latlong[c('SUBDIVISION', 'colorful')], by=c("SUBDIVISION"))
rains.per25years <- rains.per25years[order(meds.factor),]
rains.per25years$SUBDIVISION <- factor(rains.per25years$SUBDIVISION, levels = meds.order)
ggplot(data=rains.per25years, aes(x=SUBDIVISION, y=ANNUAL, fill=colorful)) +
geom_bar(stat="identity", show.legend = FALSE) +
scale_x_discrete(guide = guide_axis(angle = 90)) +
facet_grid(YEAR ~ ., scales = "free_y") +
coord_cartesian(ylim = c(0, 4500)) +
xlab("State") +
ylab("Median Rainfall")
ggsave("quarter_centuray_rainfall.png")
latlong
rains.col <- merge(rains, latlong[c('SUBDIVISION', 'colorful')], by=c("SUBDIVISION"))
indexs <- c(1,2,3,4,5,8,9,11)
graphs <- list()
count <- 1
rains.info <- rains.col %>%
filter(color %in% colors[i]) %>%
pivot_longer(
cols = JAN:DEC,
names_to = "month",
values_to = "rainfall") %>%
group_by(month,SUBDIVISION) %>%
summarise_at(vars(rainfall),
list(median=median,
Q1=~quantile(., probs = 0.25),
Q3=~quantile(., probs = 0.75)))
rains.col <- merge(rains, latlong[c('SUBDIVISION', 'colorful')], by=c("SUBDIVISION"))
indexs <- c(1,2,3,4,5,8,9,11)
graphs <- list()
count <- 1
for(i in indexs){
rains.info <- rains.col %>%
filter(colorful %in% colors[i]) %>%
pivot_longer(
cols = JAN:DEC,
names_to = "month",
values_to = "rainfall") %>%
group_by(month,SUBDIVISION) %>%
summarise_at(vars(rainfall),
list(median=median,
Q1=~quantile(., probs = 0.25),
Q3=~quantile(., probs = 0.75)))
rains.info$month <- factor(rains.info$month, levels = c("JAN", "FEB", "MAR", "APR", "MAY", "JUN", "JUL", "AUG", "SEP", "OCT", "NOV", "DEC"))
graphs[[count]] <- ggplot(rains.info, aes(month, median, color=SUBDIVISION, group=SUBDIVISION)) +
geom_point() +
geom_line() +
#geom_errorbar(aes(ymin = Q1, ymax = Q3)) +
labs(x = "month",
y = "median rainfall between 1901 and 2017",
title = "MY TITLE")
count <- count + 1
}
graphs
### Assign colors to dataframe
entrys <- latlong$SUBDIVISION %>% length()
shades <- rep('', entrys)
for (i in 1:entrys){
distances <- latlong$median[i]-breaks > 0
shades[i] <- colors[distances %>% which() %>% max()]}
latlong$colorful <- shades
### Basic barplots of annual rainfall for 1901, 1925, 1950, 1975, 2000, and 2017
meds.factor <- factor(rains.per25years$SUBDIVISION, levels=meds.order)
years <- c(1901,1925,1950,1975,2000,2017)
rains.per25years <- rains %>%
filter(YEAR %in% years) %>%
merge(latlong[c('SUBDIVISION', 'colorful')], by=c("SUBDIVISION"))
rains.per25years <- rains.per25years[order(meds.factor),]
rains.per25years$SUBDIVISION <- factor(rains.per25years$SUBDIVISION, levels = meds.order)
bars <- ggplot(data=rains.per25years, aes(x=SUBDIVISION, y=ANNUAL, fill=colorful)) +
geom_bar(stat="identity", show.legend = FALSE) +
scale_x_discrete(guide = guide_axis(angle = 90)) +
facet_grid(YEAR ~ ., scales = "free_y") +
coord_cartesian(ylim = c(0, 4500)) +
xlab("State") +
ylab("Median Rainfall") +
title("Barplot of annual rainfall for years 1901, 1925, 1950, 1975, 2000, and 2017")
bars
### Assign colors to dataframe
entrys <- latlong$SUBDIVISION %>% length()
shades <- rep('', entrys)
for (i in 1:entrys){
distances <- latlong$median[i]-breaks > 0
shades[i] <- colors[distances %>% which() %>% max()]}
latlong$colorful <- shades
### Basic barplots of annual rainfall for 1901, 1925, 1950, 1975, 2000, and 2017
meds.factor <- factor(rains.per25years$SUBDIVISION, levels=meds.order)
years <- c(1901,1925,1950,1975,2000,2017)
rains.per25years <- rains %>%
filter(YEAR %in% years) %>%
merge(latlong[c('SUBDIVISION', 'colorful')], by=c("SUBDIVISION"))
rains.per25years <- rains.per25years[order(meds.factor),]
rains.per25years$SUBDIVISION <- factor(rains.per25years$SUBDIVISION, levels = meds.order)
bars <- ggplot(data=rains.per25years, aes(x=SUBDIVISION, y=ANNUAL, fill=colorful)) +
geom_bar(stat="identity", show.legend = FALSE) +
scale_x_discrete(guide = guide_axis(angle = 90)) +
facet_grid(YEAR ~ ., scales = "free_y") +
coord_cartesian(ylim = c(0, 4500)) +
xlab("State") +
ylab("Median Rainfall") +
title("Barplot of annual rainfall for years 1901, 1925, 1950, 1975, 2000, and 2017")
### Assign colors to dataframe
entrys <- latlong$SUBDIVISION %>% length()
shades <- rep('', entrys)
for (i in 1:entrys){
distances <- latlong$median[i]-breaks > 0
shades[i] <- colors[distances %>% which() %>% max()]}
latlong$colorful <- shades
### Basic barplots of annual rainfall for 1901, 1925, 1950, 1975, 2000, and 2017
meds.factor <- factor(rains.per25years$SUBDIVISION, levels=meds.order)
years <- c(1901,1925,1950,1975,2000,2017)
rains.per25years <- rains %>%
filter(YEAR %in% years) %>%
merge(latlong[c('SUBDIVISION', 'colorful')], by=c("SUBDIVISION"))
rains.per25years <- rains.per25years[order(meds.factor),]
rains.per25years$SUBDIVISION <- factor(rains.per25years$SUBDIVISION, levels = meds.order)
bars <- ggplot(data=rains.per25years, aes(x=SUBDIVISION, y=ANNUAL, fill=colorful)) +
geom_bar(stat="identity", show.legend = FALSE) +
scale_x_discrete(guide = guide_axis(angle = 90)) +
facet_grid(YEAR ~ ., scales = "free_y") +
coord_cartesian(ylim = c(0, 4500)) +
labs(x = "State",
y = "Median Rainfall",
title = "Barplot of annual rainfall for years 1901, 1925, 1950, 1975, 2000, and 2017")
ggsave("quarter_centuray_rainfall.png", bars)
graphs
do.call(grid.arrange,graphs)
do.call(grid.arrange,graphs)
ggsave('a.png',a)
a = do.call(grid.arrange,graphs)
save('a.png',a)
save(a, 'a.png')
png(filename="name.png")
plot(a)
dev.off()
a = do.call(grid.arrange,graphs)
png(filename="name.png")
plot(a)
dev.off()
as.character(count)
'hello'+as.character(count)
as.character(count)
paste('h',as.character(count), sep='')
paste('h',as.character(count),'.png', sep='')
### Trends in annual rainfall for 1901, 1925, 1950, 1975, 2000, and 2017
rains.col <- merge(rains, latlong[c('SUBDIVISION', 'colorful')], by=c("SUBDIVISION"))
indexs <- c(1,2,3,4,5,8,9,11)
graphs <- list()
count  <- 1
for(i in indexs){
rains.info <- rains.col %>%
filter(colorful %in% colors[i]) %>%
pivot_longer(
cols = JAN:DEC,
names_to = "month",
values_to = "rainfall") %>%
group_by(month,SUBDIVISION) %>%
summarise_at(vars(rainfall),
list(median=median,
Q1=~quantile(., probs = 0.25),
Q3=~quantile(., probs = 0.75)))
rains.info$month <- factor(rains.info$month, levels = c("JAN", "FEB", "MAR", "APR", "MAY", "JUN", "JUL", "AUG", "SEP", "OCT", "NOV", "DEC"))
ggplot(rains.info, aes(month, median, color=SUBDIVISION, group=SUBDIVISION)) +
geom_point() +
geom_line() +
#geom_errorbar(aes(ymin = Q1, ymax = Q3)) +
labs(x = "month",
y = "median rainfall between 1901 and 2017")
ggsave( paste('rainfall_lineplot',as.character(count),'.png', sep='') )
count <- count + 1
}
### Trends in annual rainfall for 1901, 1925, 1950, 1975, 2000, and 2017
rains.col <- merge(rains, latlong[c('SUBDIVISION', 'colorful')], by=c("SUBDIVISION"))
indexs <- c(1,2,3,4,5,8,9,11)
graphs <- list()
count  <- 1
for(i in indexs){
rains.info <- rains.col %>%
filter(colorful %in% colors[i]) %>%
pivot_longer(
cols = JAN:DEC,
names_to = "month",
values_to = "rainfall") %>%
group_by(month,SUBDIVISION) %>%
summarise_at(vars(rainfall),
list(median=median,
Q1=~quantile(., probs = 0.25),
Q3=~quantile(., probs = 0.75)))
rains.info$month <- factor(rains.info$month, levels = c("JAN", "FEB", "MAR", "APR", "MAY", "JUN", "JUL", "AUG", "SEP", "OCT", "NOV", "DEC"))
ggplot(rains.info, aes(month, median, color=SUBDIVISION, group=SUBDIVISION)) +
geom_point() +
geom_line() +
#geom_errorbar(aes(ymin = Q1, ymax = Q3)) +
labs(x = "month",
y = "median rainfall between 1901 and 2017")
ggsave( paste('median_monthly_rainfall_lineplot',as.character(count),'.png', sep='') )
count <- count + 1
}
ggplot(data=meds, aes(x=median, y=stdev.norm)) +
geom_line() +
geom_point()
# Non-normalized
ggplot(data=meds, aes(x=median, y=stdev)) +
geom_line() +
geom_point() +
labs(x = "Median Annual Rainfall",
y = "Standard Deviation in Annual Rainfall",
title = "Line plot of median annual rainfall vs. the standard deviation in annual rainfall")
# Normalized
ggplot(data=meds, aes(x=median, y=stdev.norm)) +
geom_line() +
geom_point() +
labs(x = "Median Annual Rainfall",
y = "Scaled Standard Deviation in Annual Rainfall",
title = "Line plot of median annual rainfall vs. the scaled standard deviation in annual rainfall")
# Non-normalized
ggplot(data=meds, aes(x=median, y=stdev)) +
geom_line() +
geom_point() +
labs(x = "Median Annual Rainfall",
y = "Standard Deviation in Annual Rainfall",
title = "Line plot of median annual rainfall vs. the standard deviation in annual rainfall")
# Normalized
ggplot(data=meds, aes(x=median, y=stdev.norm)) +
geom_line() +
geom_point() +
labs(x = "Median Annual Rainfall",
y = "Scaled Standard Deviation in Annual Rainfall",
title = "Line plot of median annual rainfall vs. the scaled standard deviation in annual rainfall\n(standard deviation divided by median)")
if (!require('ggplot2'))
{install.packages('ggplot2'); library(ggplot2)}
rains.col <- merge(rains, latlong[c('SUBDIVISION', 'colorful')], by=c("SUBDIVISION"))
indexs <- c(1,2,3,4,5,8,9,11)
graphs <- list()
count  <- 1
for(i in indexs){
rains.info <- rains.col %>%
filter(colorful %in% colors[i]) %>%
pivot_longer(
cols = JAN:DEC,
names_to = "month",
values_to = "rainfall") %>%
group_by(month,SUBDIVISION) %>%
summarise_at(vars(rainfall),
list(median=median,
Q1=~quantile(., probs = 0.25),
Q3=~quantile(., probs = 0.75)))
rains.info$month <- factor(rains.info$month, levels = c("JAN", "FEB", "MAR", "APR", "MAY", "JUN", "JUL", "AUG", "SEP", "OCT", "NOV", "DEC"))
graphs[[count]] <- ggplot(rains.info, aes(month, median, color=SUBDIVISION, group=SUBDIVISION)) +
geom_point() +
geom_line() +
#geom_errorbar(aes(ymin = Q1, ymax = Q3)) +
labs(x = "month",
y = "median rainfall between 1901 and 2017")
ggsave( paste('median_monthly_rainfall_lineplot',as.character(count),'.png', sep=''), graphs[[count]] )
count <- count + 1
}
graphs
